---
title: "[파이썬] 주석달기!"

categories:
    - Python
tags:
    - Python
    - Coding
    - Review
last_modified_at: 2024-02-18T17:00:00

toc: true
toc_sticky: true
toc_label: "On This Page"
---

> 좋은 프로그래머가 되기 위해서는 주석을 꼼꼼하게 달고 작성한 프로그램에 대한 문서도 잘 작성할 줄 알아야 합니다. 따라서 이번 장에서는 주석과 문서를 효율적으로 작성하는 방법에 대해서 살펴보도록 하겠습니다.<br>

> 이 포스트의 내용은 저자 Al Sweigart의 "클린 코드, 이제는 파이썬이다" 11장 내용임을 사전에 미리 밝힙니다!

&#160; 프로그램을 개발하고 끝이 아니라 유지보수, 버그수정, 업데이트 등 반드시 변경이 필요하게 됩니다. 그럴때마다 매번 기억을 더듬어가며 개발할 순 없기에 보통의 프로그래머들은 문서로 필요한 정보를 남겨 놓습니다. 이때 이러한 정보들을 소스 코드에 주석, 독스트링, 타입 힌트 등과 같은 형식으로 작성하게 됩니다.
&#160; **주석(comment)**은 소스 코드에 직접 기입하는 텍스트로 컴퓨터가 무시하는 간단한 설명입니다. 주석은 개발자를 포함하여 코드를 보는 모든 사람들에게 도움이 되는 메모, 기억해야할 것들에 대한 단서를 제공합니다.<br>
&#160; **독스트링(docstring)**은 함수, 메소드, 모듈에 대해 작성하는 문서 형식이라고 보면 됩니다. 독스트링 형식으로 작성하면 help() 모듈과 같은 함수를 통해 정보를 볼러와 볼 수 있습니다.<br>
&#160; **타입 힌트(type hint)**는 변수, 파라미터, 반환값의 데이터 타입 등을 명세하기 위해 소스 코드에 추가할 수 있는 지시자(directive)입니다.

# 1. 주석
&#160; 파이썬은 단일행과 다중행 주석을 모두 제공합니다. 단일행 주석은 #로 시작하는 문자열이며, 다중행 주석은 """~""" 부분에 해당합니다.
```python
# 단일 행 주석입니다.

"""
다중행 주석입니다.
/
"""
```

&#160; 일반적으로 단일행 주석(#)을 사용하여 다중행에 대하여 주석을 작성하는 것은 가독성이 떨어집니다. 따라서 다중행 주석이 필요하다면 단일행 주석보다는 """을 활용해 다중행 주석을 작성하는 것이 가독성에 더 좋습니다.

1. **주석 스타일**<br>
&#160; 보통 일반적으로 사용되는 주석 스타일이 있습니다. ① 새로운 행에 독자적으로 존재, ② 행 길이 제한을 준수, ③ 주석 대상 코드와 동일한 들여쓰기 수준 준수, ④ 인라인 주석에 대해서는 코드와 두 칸은 띄어서 분리하기, ⑤ # 기호 뒤에 공백 붙이기 정도 입니다. 

2. **인라인 주석**<br>
    &#160; 인라인 주석은 코드와 주석이 같은 행에 있는 주석을 말합니다. 개인적으로 단일행 주석을 작성하면 인라인 주석 형식으로 작성하곤 합니다. 예를 들면 아래와 같습니다.
    ```python
    while True:  # 플레이어가 유효한 명령을 입력할 떄까지 계속 질문한다.
    ```

    &#160; 인라인 주석은 보통은 짧은 주석이기에 변수에 대한 목적을 설명하거나 간단한 코드의 맥락을 설명하는 용도로 많이 작성되며, 보통은 주석문 바로 앞에 적힌 코드 행에 대해서만 설명해야 합니다. 다른 행에 코드를 설명하게 되면 읽는 사람이 헷갈리게 됩니다. 

3. **설명 주석**<br>
    &#160; 대다수의 초보 프로그래머가 흔히 저지르는 실수 중 하나인데, 주석은 코드를 번역하는 설명문이 아니라 이렇게 작성된 이유를 설명해야 합니다. 즉, 코드를 작성한 프로그래머의 의도를 설명할 수 있어야 합니다. 
    ```python
    currentWeekWages *= 1.5  # 현재 주급의 1.5배

    currentWeekWages *= 1.5  # 초과 근무 시간 반영
    ```

    &#160; 위에 주석은 그저 코드를 설명하는 정도의 주석으로 굳이 작성하지 않아도 될 주석입니다. 반면, 아래 주석은 프로그램의 의도를 설명해 주기에 반드시 작성되어야 하는 주석입니다.

4. **요약 주석**<Br>
    &#160; 설명 주석 외에도 여러 줄의 코드 블록에 대한 요약을 제공해주면 코드를 보는 프로그래머들은 대략적으로 코드 블록의 기능을 파악할 수 있게 됩니다. 따라서 요약 주석은 보통 코드 문단의 시작 부분에 작성되고 더 높은 수준의 추상화 수준에서 코드의 목적을 설명해줍니다.
    ```python
    # 다른 플레이어에게 파례를 넘김
    if playerTurn == PLAYER_X:
        playerTurn = PLAYER_O
    elif playerTurn == PLAYER_O:
        playerTurn = PLAYER_X
    ````

5. **경험 지식을 담은 주석**<br>
    &#160; 경험 지식을 담은 주석이란 소프트웨어 혹은 프로그램을 개발하면서 겪었던 문제점, 해결방안, 고민 등을 담은 주석을 뜻합니다. 이는 당장 프로그램에 도움이 되는 주석은 아닐지라도 소스 코드를 보는 다른 프로그래머, 개발자들에게 도움을 주고자 남기는 주석입니다. 필수적으로 작성해야할 주석은 아닙니다.

6. **법무 정보를 담은 주석**<Br>
    &#160; 보통은 프로그램 개발에 사용된 소프트웨어에 대한 라이센스, 저작권 정보를 담아야 할 경우가 있씁니다. 이럴 때에 소스 코드 파일 상단의 관련 내용들을 작성해 줍니다. 라이센스가 길 수 있으므로 모든 라이센스 내용을 담기보다는 해당 내용이 있는 외부 문서나 웹사이트를 참조할 수 있게 하는 것도 좋은 방법입니다.

7. **전문적인 주석**<br>
    &#160; 보통 주석은 프로그래머 본인 스스로 보기 위해 작성하는 것도 많지만 공개적으로 다른 개발자나 프로그래머, 분석가에게 설명하기 위하여 작성하는 것도 많을 것입니다. 따라서 너무 개인적인 어조로 작성하기 보다는 전문적인 어조로 작성하는 것이 좋습니다.

8. **코드태그와 TODO 주석**<br>
    &#160; 프로젝트 일성상 프로그램을 끝내지 않고 잠시 멈추거나 다른 일정을 소화해야 할 때가 있습니다. 혹은 다음 버전 업데이트에 필요한 내용들이 있을 것입니다. 다음 번에 작업할 내용들을 작성해야 하는데 이런 주석을 TODO 주석이라 합니다. 코드태그 형식을 사용하는데 아래와 같습니다.<br><br>
    **TODO**: 해야 할 일에 대한 내용을 상기시키는 경우<br>
    **FIXME**: 코드의 해당 부분에 수정이 필요함을 상기시키는 경우<br>
    **HACK**: 코드가 동작하긴 하지만 추후 개선이 필요함을 상기시켜야 할 경우<Br>
    **XXX**: 간혹 심각도가 높아지는, 일반적인 경고를 담아둬야 할 경우

9. **매직 주석**<Br>
    &#160; 매직 주석은 항상 맨 위(상단)에 표시되며, 인터프리터 또는 인코딩 정보를 제공합니다.
    ```python
    #!/usr/bin/env python3
    # -*- coding: utf-8 -*-
    ```

    &#160; 맨 첫줄은 소스코드 파일을 실행하기 위해 사용할 인터프리터를 운영체제에 알려주며, 두번째 행은 소스코드 파일에 사용할 유니코드 인코딩 방식을 정의합니다.

# 2. 독스트링
&#160; 독스트링(docstring)은 보통 소스코드 맨 상단 혹은 class, def 문 바로 뒤에 이어지는 다중행 주석을 말합니다. 독스트링은 인라인 주석보다는 더 상세한 정보를 전달하기 위해 작성되는데 주로 정의돈 모듈, 클래스, 함수, 메소드 등에 대한 문서를 제공합니다. 독스트링은 삼중 큰따옴표(""")로 사용되는 다중행 주석을 사용해야합니다. 어떤 객체에 독스트링은 객체의 ____doc____ 속성을 조회하거나 내장 help()함수를 사용하면 됩니다. <br>
&#160; 일반적으로 독스트링의 첫 행에는 모듈, 클래스, 함수를 한 줄 요약 내용을 담고 이후에 함수의 파라미터, return값과 같은 상세한 정보를 담아야 합니다. 그리고 독스트링을 읽는 사람들은 소프트웨어의 사용자가 아니라 동룍 혹은 외부 프로그래머, 분석가이기 때문에 사용 튜토리얼이 아닌 기술적인 정보를 담을 수 있도록 해야 합니다. 

# 3. 타입 힌트
&#160; 파이썬은 **동적 타입(dynamic typing)** 언어입니다. 동적 타입 언어란 변수, 파라미터, 변환값은 어떤 데이터 타입도 가능하며 심지어 실행하는 도중에 바뀔수도 있습니다. 데이터 타입을 미리 선언할 필요가 없으므로 프로그래밍하기 쉬운 장점이 있는 대신, 버그 방지의 기능이 부족하다는 단점이 있습니다. 반면, **정적 타입(static typing)**은 소스 코드의 모든 변수, 파라미터, 반환값의 데이터 타입을 미리 선언하는 것을 말합니다. <br>
&#160; 파이썬은 기본적으로 동적 타입 언어이지만 **타입 힌트(type hint)**는 정적 타입을 선택적으로 제공합니다.<br>
```python
def describeNumber(number: int) -> str:
    if number % 2 == 1:
        return 'An odd number. '
    elif number == 42:
        return 'The answer. '
    else:
        return 'Yes, that is a number. '
myLuckyNumber: int = 42
print(describeNumber(myLuckyNumber))
```

&#160; 타입 힌트틑 위에 예에서 볼 수 있듯이, 파라미터나 변수는 콜론을 사용해 이름과 타입을 구분하고(이름:타입) 반환값은 화살표(->)를 이용해 구분합니다. 위 describeNumber() 함수는 정수(int) 타입 인수를 입력받아, 문자열(str) 값을 반환하는 함수로 정의됐습니다. 동적 타입의 유연성과 정적 타입의 안정성을 절충하는(둘다 사용) **점진적 타입** 접근법을 사용할 수도 있습니다. 다만, 타입 힌트를 많이 사용할수록 정적 코드 분석 도구가 프로그램의 잠재적 버그를 찾아내기 수월하다는 장점이 있습니다. 

1. **다중 타입 타입 힌트 설정하기**<br>
    &#160; 타입 힌트를 꼭 단일 데이터 타입으로 해야만 하는 것은 아닙니다. 파이썬은 변수, 파라미터, 리턴값에 대해 다중 데이터 타입을 가질 수 있습니다. 이를 위해서는 내장 typing 모듈에서 Union을 임포트해서 사용하면 됩니다.
    ```python
    from typing import Union
    spam: Union[int, str, float] = 42
    spam = 'hello'
    spam = 3.14
    ```

    &#160; 위 예시에서 spam 변수의 데이터 타입을 [int, str, float]으로 다중 데이터 타입으로 설정했습니다. 이에 더하여 다른 데이터 타입과 함께 None 타입도 다중 데이터 타입으로 지정할 수 있고, Any 타입 힌트를 사용하면 임의의 데이터 타입이 되도록 지정할 수 있습니다.
    ```python
    from typing import Optional
    lastName: Optional[str] = None
    lastName = 'Mato'

    from typing import Any
    import datetime
    spam: Any = 42
    spam = datetime.date.today()
    spam = True
    ```

    &#160; 위 예시에서는 lastName 변수를 None 또는 str 타입으로, spam 변수는 임의의 데이터 타입을 지정했습니다. 하지만, Union, Optional, Any와 같은 타입 힌트는 되도록이면 지양하는 것이 좋습니다. 굳이 다중, 임의의 데이터 타입을 지정하여 프로그램을 무의미하게 복잡하게 만들 뿐입니다. 그렇다고 버그 방지 기능이 강화되는 것도 아닙니다. 

2. **리스트, 딕셔너리 등을 위한 타입 힌트 설정**<br>
    &#160; 리스트, 딕셔너리와 같은 컨테이너 데이터 타입 또한 지정할 수 있습니다. 그리고 내부 값의 데이터 타입을 구체적으로 선언할 수 있습니다.
    ```python
    spam: list = [42, 'hello', 3,14, True]
    
    from typing import List, Union
    catNames: List[str] = ['Zophie', 'Simon', 'Pooka', 'Theodore']
    numbers: List[Union[int, float]] = [42, 3.14, 99.9, 86]
    ```

    &#160; typing 모듈은 컨테이너 타입마다 별도의 alias를 갖습니다. 
    - **List**: list data type
    - **Tuple**: tuple data type
    - **Dict**: dicrionary data type
    - **Set**: set data type
    - **FrozenSet**: frozenset data type
    - **Sequence**: list, tuple, other sequence data type
    - **Mapping**: dictionary, set, frozenset, other mapping data type
    - **ByteString**: bytes, bytearray, memoryview data type

3. **주석을 활용한 타입 힌트 백포팅**<br>
    &#160; **백포팅(backporting)**은 소프트웨어의 상위 버전에서 기능을 가져와 이전 버전으로 추가하는 과정을 말합니다. 파이썬의 타입 힌트 기능은 3.5 버전 이후에 추가됐습니다. 따라서 이전 버전에서 타입 힌트 기능을 사용하려면 타입 정보를 주석에 넣어주어야 합니다. 변수의 경우에는 인라인 주석에, 함수나 메소드의 경우에는 def 문 뒤에 따라 나오는 행에 타입 힌트를 적습니다. 

# 6. 마치며...
&#160; 파이썬 프로그래밍을 하다보면 무수히 많은 함수를 작성해야 합니다. 함수는 반복 작업을 줄여주고 코드의 유지 보수를 훨씬 더 용이하게 할 수 있다는 점에서 장점이 있습니다. 함수를 작성하기 위해서는 몇 가지 결정사항들이 필요한데 이를 잘 해결하기 위해서는 파이썬 다운 함수를 작성하는 방법을 숙지하고 있어야 할 것입니다. 