---
title: "[데이터분석] 4개 인자를 한 산점도에 나타내기"

categories:
    - Data
tags:
    - Data
    - Data Analysis
    - Visualization
    - Scatter Plot
last_modified_at: 2023-07-16T23:52:00

toc: true
toc_sticky: true
toc_label: "On This Page"
---

&#160; 4개 인자를 한 산점도 차트에 표현하는 미션이 주어졌습니다. 4개 인자를 한 산점도에..?? 왜 4개의 인자를 한 산점도로 표현해야했는지 그리고 어떻게 해결했는지 기록하고자 합니다.

## 1. 배경
&#160; 데이터 분석을 통한 에너지 사용 절감 프로젝트의 일환으로 에너지 사용량을 모니터링 할 수 있는 대시보드 화면을 개발하던 중, 팀장님께서 현재 에너지 사용량이 적정한 수준으로 사용되고 있는지 확인할 수 있는 시각화 차트를 만들어보라고 하셨다. 데이터 분석을 통해 에너지 사용에 영향을 미치는 중요한 3가지 인자를 도출했고, 이를 기반으로 어떻게 하면 클라이언트가 쉽게 볼 수 있는 시각화 차트를 구성할 수 있을지 고민해봤습니다. 우선, 어떤 차트를 통해 표현할 지를 정해야 했는데 인자 간 관계를 볼 때 기본적으로 사용하는 산점도를 활용해 표현해보고자 했습니다.
> ※ BI Tool로 Qlik Sense를 활용하는데 3차원 산점도는 제공하고 있지 않아 주로 2차원 산점도를 활용해 대시보드를 개발하고 있습니다. ?3차원 산점도 Extension을 찾아볼까? 


## 2. 문제점
&#160; 다만 1개의 Y인자와 3개의 X인자 즉 4개의 인자를 한 산점도에 표현해야 하는 문제점이 있었습니다. 산점도는 보통 Y축과 X축 그리고 Z축(색으로 표시)을 활용하여 3개 인자 간 관계를 표현하기엔 적합하지만 4개 인자를 한번에 표현하기에는 한계가 있었습니다. 측정값을 활용해 Point의 크기를 조절하여 하나의 차원을 더 추가할 수 있지만, 가시성이 많이 떨어지는 문제가 있었습니다. 어떻게 해결할 수 있을지 이런 저런 방법을 고민했었고, 몇 가지 떠올렸던 아이디어는 다음과 같습니다.

### 2.1 대안1: 매개변수 활용해보기
&#160; Y축은 에너지 사용량으로 고정한 채, X축과 Z축을 매개 변수를 활용해 원하는 인자를 선택하여 산점도를 그릴 수 있게끔 해봤습니다. 장점은 사용자가 매개 변수를 활용해 원하는 대로 인자를 클릭하면서 데이터를 볼 수 있지만, 4개 인자를 한 번에 표현하지 못하는 것은 여전했습니다. 이는 사용자가 인자를 클릭해가면서 머릿속에 상상해가면서 비교하거나, 따로 캡쳐를 떠가면서 비교해야 하기에 활용도가 많이 떨어지는 아쉬움이 있습니다. 

### 2.2 대안2: 여러 산점도를 그리기
&#160; 대시보드를 만들 때, 굳이 하나의 산점도만 그려야 한다는 법은 없습니다. 그래서 여러 개의 산점도를 한 화면에 그려보면 어떨까 생각했습니다. 그려보고 나니 여러개의 산점도를 통해 정보를 얻을 수 있지만, 여전히 4개의 인자를 한 산점도에서 확인하지 못하는 한계가 있었습니다. 또 하나의 문제는 차트가 많아지는 것은 사용자가 받아들여야 하는 정보가 그 만큼 증가한다는 것이고 복잡해지기 때문에 사용 편의성도 떨어지게 됩니다.

## 3. 해결책!
&#160; 이런저런 고민을 해봤지만 해결이 잘 안되던 차에 팀장님과 회의를 하면서 한 가지 기발한 아이디어를 주셨습니다. 기본 아이디어는 <span style="color:red">**인자의 개수를 4개 → 3개로 줄이는 것**</span>이었습니다. 왜 생각을 못했던 걸까요? 듣고 나니 명쾌하고 심플했습니다. 인자의 개수를 줄이면 2차원 산점도로도 충분히 표현이 가능합니다. 그렇다면 어떻게 줄일 수 있었을까요?

### 3.1 X1인자 영향력 없애기
&#160; 3가지 X인자를 각각 X1, X2, X3인자라고 하겠습니다. X3인자는 외기 온도이며, 외생적으로 주어지는 변수입니다. 이제 나머지 X1인자와 X2인자에 대해서 쉽게 예를 들어보겠습니다. 우리가 맛있는 라면을 끓이기 위해서는 냄비에 물과 라면을 각각 넣어줘야 합니다. 라면을 많이 넣을수록 물도 많이 넣어야하고 물이 많아질수록 GAS 사용량도 늘어나겠죠?(비유가 찰떡이네요🤣) 여기서 X1인자를 라면 양, X2인자를 물 투입량, Y인자를 GAS사용량이라고 해보겠습니다. 에너지 사용 관점에서 이렇게 표현해보면 어떨까요? **<라면 1g당 물 투입량, 라면 1g당 GAS 사용량>** 자연스럽게 3개 인자를 2개 인자로 줄일 수 있게 됐습니다! 또한 라면 양에 따라 에너지 사용량에 미치는 영향까지 제거하여 비교할 수 있게 됐습니다. 간단하지만 왜 생각을 못했었는지..ㅎㅎㅎ<br><br>
&#160; 사실 어떤 한 인자를 나눠줌으로써 효과를 제거하는 방법이 새로운 방법은 아니고 많이 쓰이는 방법입니다. 심지어 제가 석사과정 중에 응용미시계량, 계량을 전공하면서 정말 많이 썼던 방법이었습니다. 까먹고 있었을 뿐... 예를 들면 경제학에서는 인구수에 따른 효과를 제거하기 위해 2가지 방법을 사용하는데, 하나는 X변수로 회귀식에 추가하거나 다른 하나는 Y인자를 인구수로 나눠서 1인당 Y값으로 변환해 인구수에 따른 효과를 제거하는 방법을 사용합니다. 아무래도 도메인 영역이 다르다보니 지레 단정짓고 다양한 시도를 해보지 못했던 것 같습니다. 긍정적이라면 앞으로는 이 방법을 활용할 수 있겠죠?ㅎㅎ

## 마치며
&#160; 비록 까먹고 있던 스킬이지만 이번 프로젝트를 통해 다시 한 번 복기할 수 있었습니다. 4개 인자를 한 산점도에 어떻게 표시하지? 이 포인트에 너무 매몰되어 있었던 것 같습니다. 이렇게 데이터를 시각적으로 표현하는 방법은 너무나 다양하고 정답이 없기에 이렇게 경험을 쌓아가면서 내실을 다져가야겠습니다.