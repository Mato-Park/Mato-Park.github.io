---
title: "[서버] 네트워크 관련 기초 지식에 대해 알아보자 (1/2)"

categories:
    - Server
tags:
    - Computer
    - Server
    - Network
    - IT
last_modified_at: 2024-03-03T17:41:00

toc: true
toc_sticky: true
toc_label: "On This Page"
---

> 데이터 분석가는 데이터 분석만 알고 잘하면 끝인 줄 알았는데 그게 아니더군요. 기초적인 컴퓨터 공학, IT 지식은 갖춰야 한다는 것을 뼈저리게 느꼈습니다. 다양한 분야에 대한 지식이 필요하겠지만 우선 네트워크에 대해서 공부해보고자 합니다.<br>

&#160; 서버와 클라이언트 간에는 네트워크를 통해서 필요한 데이터를 서로 주고받습니다. 따라시 이번 포스트에서는 네트워크 관련 기초 지식에 대해 정리해보고자 합니다.

# 1. 프로토콜이란?
&#160; 네트워크에서는 서로 통신하기 위한 약속이 필요한데 이를 **프로토콜**이라고 부릅니다. 사전에 정의된 프로토콜이 없다면 광대한 네트워크의 세계에서 원하는 곳으로 데이터를 송신할수도 내 컴퓨터로 수신할 수도 없을 것입니다. 따라서 컴퓨터 간 원활하게 통신하기 위해서는 사전에 정의된 프로토콜에 따라 데이터를 송, 수신해야 합니다. 걱정하지 않으셔도 되는 점은 프로토콜은 사전에 통신에 필요한 기능별로 확실하게 정의되어 있습니다. 따라서, 사용하고 있는 PC, OS, 연결 방식(유, 무선)에 관계없이 어떤 것을 사용하던 동일하게 통실할 수 있습니다. <br>

&#160; 프로토콜에는 **패킷**이 제대로 보내지도록 필요한 기능들을 정의합니다. 패킷은 데이터를 작은 단위로 나눈 것을 뜻합니다. 간단하게 예를 들면, 큰 데이터를 잘게 분할한 뒤에 **헤더**라는 이름의 화물표를 붙인 후에 보내게 됩니다. 이 헤더에는 통신 상대가 되는 컴퓨터의 정보, 전체 데이터 중 현재 페킷의 순서 등 다양한 정보가 포함됩니다. 따라서 프로토콜에는 이와 관련된 정보들을 어떻게 표현하는지가 정의됩니다.

# 2. OSI 참조 모델
&#160; 네트워크에는 수많은 프로토콜이 존재하는데 대표적으로 **이더넷, Wi-Fi, IP, TCP, UDP, 애플리케이션 프로토콜(HTTP, HTTPS, QUIC, DNS)** 정도입니다. 이 개념을 **OSI 참조 모델**에 대입해 생각해 볼 수 있습니다.<br>

&#160; **OSI 참조 모델**은 통신 기능의 역할을 계층적으로 분류한 개념으로, 아래층부터 차례로 **Physical Layer, Datalink Layer, Network Layer, Transport Layer, Session Layer, Presentation Layer, Application Layer**의 7개 층으로 구성되어 있습니다. 각각 이더넷과 Wi-Fi는 물리층과 데이터링크층, IP는 네트워크층, TCP/UDP는 트랜스포트층, 애플리케이션 프로토콜은 프레젠테이션 ~ 애플리케이션층까지의 프로토콜이라고 보시면 됩니다. <br>

&#160; 데이터를 송, 수신할 때에는 층을 거치면서 각 층에 대입되는 프로토콜을 선택해 처리합니다. 물론 사용자가 이를 의식할 순 없이 자동으로 처리됩니다. 통신 순서는 송신의 경우 위(애플리케이션)부터 아래(물리) 층으로, 수신은 아래(물리)로부터 위(애플리케이션) 층 순으로 데이터가 흘러갑니다. 

# 3. 이더넷과 MAC 주소
&#160; 물리층과 데이터링크 층에 대입되는 프로토콜은 이더넷과 MAC주소 입니다. 가끔 PC에서 네트워크 관련 설정을 만지다 보면 이더넷이란 용어를 보게 되는데 사실 생소하기에 그냥 넘어가곤 했습니다.

## 3.1 이더넷
&#160; 이더넷은 LAN(근거리 통신망) 구축을 위해 장치간 연결/통신을 지원하는 네트워킹 프로토콜로 장치가 네트워크를 통해 데이터 패킷을 다른 장치와 통신하도록 지원합니다. 따라서, 만약 여러분이 유선 네트워크를 사용하고 있다면 거의 대부분은 이더넷을 사용하고 있을 것입니다. <br>

&#160; 이더넷은 네트워크층으로부터 받은 데이터 패킷을 **이더넷 프레임**으로 만듭니다. 이더넷 프레임은 처음 위치를 나타내는 **프리앰블(Preamble)**, 송/수신처의 MAC주소를 나타내는 **이더넷 헤더**, **타입**, 데이터인 **IP 패킷**, 마지막으로 전송 에러 체크에 사용되는 **FCS(Frame Check Sequence)**로 구성됩니다. 이더넷은 이 이더넷 프레임을 전파 신호 혹은 광신호로 변환해 LAN 케이블 혹은 광 케이블로 보냅니다.

## 3.2 MAC 주소
&#160; 이더넷에서는 **MAC 주소**라는 식별 번호를 사용해 컴퓨터를 식별합니다. 맥 주소의 기본형태는 **a8:66:7f:04:00:80 혹은 00-50-56-c0-00-01**와 같은 형태로 48비트를 8비트 씩 하이픈(-) 혹은 클론(:)으로 구분한 16진수로 표기합니다. <br>

&#160; 이 MAC 주소에 상위 24비트와 하위 24비트는 서로 다른 정보를 제공합니다. 상위 24비트는 **벤더 코드(OUI - Organizationally Unique Identifier)**로 미국 전기 기술자 협회(IEEE)가 기기 벤더(판매 회사) 별로 할당한 벤더 코드입니다. 반면, 하위 24비트는 벤더 내에서 기기별로 유일하게 할당하는 **벤더 내 코드**입니다. MAC 주소는 IEEE가 관리하는 상위 24비트와 각 벤더에 의해 관리되는 고유의 하위 24비트의 조합으로 각 NIC에 할당되어 있는 MAC 주소는 고유합니다.

# 4. 스위칭 
&#160; 이더넷은 **스위치**라 불리는 네트워크 기기를 중심으로 별형 토폴로지라는 연결 형태로 컴퓨터를 연결합니다. 유선 네트워크에 연결된 컴퓨터는 LAN 케이블 혹은 광 케이블이 스위치에 연결되어 있다고 생각하시면됩니다.<br>

&#160; 스위치는 이더넷 프레임이 들어간 **인터페이스 번호**와 **송신원 MAC 주소**를 **MAC 주소 테이블**에 기록합니다. 따라서, 이 MAC 주소 테이블을 사용해 칠요한 인터페이스에만 이더넷 프레임을 전송하도록 합니다. 이로써 불필요한 프레임의 전송을 피하고 네트워크 통신 효율의 향상을 도모할 수 있게 됩니다. 스위치에서 간단한 작동방식은 아래와 같습니다.

> 1. 이더넷 프레임을 받으면 송신원 MAC 주소와 받은 인터페이스 번호를 MAC 주소 테이블에 기록합니다.
> 2. 수신지 MAC 주소가 MAC 주소 테이블에 기재되어 있다면, 그것에 맞게 전송합니다. 그렇지 않다면 인터페이스 번호의 인터페이스 프레임 사본을 송신하여 해당 컴퓨터만 프레임을 받고 이외에는 파기합니다.
> 3. 이후 프레임을 주고 받을 때마다 주소 테이블을 업데이트하며, 일정 기간 동안 사용되지 않는 정보는 삭제합니다.

# 5. IP
&#160; **IP(Internet Protocol)**에 의해 생성된 **IP 패킷**은 전 세계의 다양한 네트워크를 경유해 목적지에 도달하게 됩니다. IP 패킷은 트랜스포트 층으로부터 받은 데이터(TCP 세그먼트, UDP 데이터그램)에 **IP 헤더**를 붙여 만들어집니다. 쉬운 예를 들면, IP 패킷은 택배 물품, IP 헤더는 택배 전표와 같습니다. IP 헤더에 포함된 정보를 통해 전 세계 네트워크를 경유해 원하는 목적지에 도착하게 되는 것입니다. (추가로, 이더넷 프레임은 마지막 집 앞까지 운반하는 택배 배송원에 해당합니다.)<br>

## 5.1 IP 주소
&#160; 조금 더 자세히 말하자면, IP에서는 통신할 상대를 식별하기 위해 **IP 주소**라는 식별 번호를 사용해 컴퓨터를 식별합니다. IP 주소는 '192.168.1.1', '172.16.25.255' 같이 32비트를 8비트 씩 나누어 10진수로 표기합니다. 점(.)으로 구분한 그룹을 옥텟(octet)이라 부릅니다. IP 주소는 **서브넷 마스크(Subnet Mask)**와 세트로 사용됩니다. IP 주소는 **네트워크 부분**과 **호스트 부분**으로 나뉘는데, 서브넷 마스크를 사용해 이를 구분할 수 있습니다. 네트워크 부분은 네트워크 그 자체를 호스트 부분은 해당 네트워크에 연결되어 있는 컴퓨터 자체를 나타냅니다. 서브넷 마스크에서 '1'은 네트워크 부분을 '0'은 호스트 부분을 나타내게 됩니다. 예를 들어, IP 주소가 '172.16.1.1'이고 서브넷 마스크가 '255.255.0.0'이라고 해보겠습니다. IP 주소에서 서브넷 마스크의 255에 해당하는 '172.16'이 네트워크 부분이 되고 나머지 '1.1'이 호스트부가 됩니다. <br>

&#160; 서브넷 마스크 표기법에는 10진수 표기법과 CIDR 표기법이 있는데, 주로 10진수 표기법을 많이 사용하는 것 같습니다. 앞서 사용한 예시에서 볼 수 있듯이 '255.255.0.0'과 같이 32비트를 8비트로 나누어 10진수로 표기한 방법이 10진수 표기법입니다. CIDR 표기법은 '255.255.0.0'을 2진수로 변환하면 1이 16개이므로 '172.16.1.1/16'으로 표기합니다.

## 5.2 IP 분류
&#160; IP 주소는 0.0.0.0 부터 255.255.255.255까지 2의 32제곱 개만큼 존재합니다. 하지만 IP 주소를 마음대로 쓸 수 없으며, **용도와 사용 장소에 따라 어떻게 사용해야 하는지 정해져** 있습니다. <Br>

&#160; IP 주소는 용도에 따라 A부터 E 클래스 까지 5개의 클래스로 나눌 수 있습니다. 그 중 A, B, C 클래스가 일반적으로 사용되는 네트워크입니다. 이 3개의 클래스는 다시 네트워크 규모의 차이로 구분되는데, 클래스 A -> 클래스 B -> 클래스 C 순으로 규모가 작아집니다(D, E 클래스는 특수한 용도로 사용되며 잘 사용하진 않습니다). 예를 들면 클래스 A는 통신 사업자, 클래스 B는 대기업, 클래스 C는 중소 기업 혹은 가정 등에서 사용한다고 보시면 됩니다.<br>

&#160; 앞서는 용도에 따른 분류였다면 사용 장소에 따라서도 분류합니다. IP 주소는 **공인 IP 주소(global IP address)**와 **사설 IP 주소(private IP address)**로 나눌 수 있습니다. 공인 IP 주소는 인터넷에서 유일한 IP 주소이며, ICANN이라는 민간 비영리 법인과 그 하부 조직에 의해 관리됩니다. 반면, 사설 IP 주소는 조직이나 가정 등의 LAN에서 자유롭게 할당할 수 있는 IP 주소입니다.